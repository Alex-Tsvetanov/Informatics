<pre>
rsq (x, y):
	sum = 0
	while x >= 0:
		i = y
		while j >= 0:
			sum += B [x, j]
			j = f (j) - 1
		x = f (x) - 1
	return sum;

upcl (x, y, d):
	while x < N:
		j = y
		while j < M:
			B[x, j] += d
			j = j | (j + 1)
		x = x | (x + 1)

</pre>
